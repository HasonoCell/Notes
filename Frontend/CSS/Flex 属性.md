`flex` 属性实际上是三个独立属性的**简写**，它定义了 Flex 项目如何伸长或收缩以适配容器中的可用空间。这三个属性是：

1. `flex-grow`
2. `flex-shrink`
3. `flex-basis`

它的语法是：

```css
.item {
  flex: [flex-grow] [flex-shrink] [flex-basis];
}
```

### `flex` 属性的三个组成部分
#### `flex-grow`（增长因子）
+ **定义**：当 Flex 容器中有**剩余空间**时，该项目**相对于其他项目**增长的能力。
+ **取值**：一个**无单位**的数字（例如 0, 1, 2）。它代表增长的比例，负值无效。
+ **默认值**：`0`（即即使有剩余空间，也不增长，保持其初始大小）。

**如何工作**：所有项目的 `flex-grow` 值相加，剩余空间会按这个总和的比例分配给各个项目。  
**公式**：`项目最终增长的大小 = 剩余空间 * （项目的flex-grow值 / 所有项目的flex-grow值之和）`



#### `flex-shrink`（收缩因子）
+ **定义**：当 Flex 容器空间**不足**时，该项目**相对于其他项目**收缩的能力。
+ **取值**：一个**无单位**的数字（例如 0, 1, 2）。它代表收缩的比例，负值无效。
+ **默认值**：`1`（即空间不足时，项目会默认收缩）。

**如何工作**：与 `flex-grow` 类似，但计算稍复杂。它决定了当空间不足时，每个项目需要收缩多少来避免溢出。  
**公式**（简化理解）：收缩的权重是 `flex-shrink * flex-basis`。权重越大的项目，收缩得越多。



#### `flex-basis`（初始大小）
+ **定义**：项目在分配剩余空间**之前**的初始大小。
+ **取值**：可以是长度值（如 `20%`, `10rem`, `250px`），也可以是关键字（如 `auto`, `content`）。
+ **默认值**：`auto`（即项目本身的大小，由 width/height 或内容决定）。

**关键点**：`flex-basis` 设置了项目的**主轴方向**的初始尺寸。它是在进行任何“增长”或“收缩”计算之前的基准值。

### `flex` 的常用预定义值（简写）
由于写出三个值很麻烦，CSS 提供了一些常用的简写：

| 简写形式 | 等价于 | 含义 |
| :--- | :--- | :--- |
| `flex: initial` | `flex: 0 1 auto` | **默认值**。项目不会增长（`0`），但会收缩（`1`），初始大小为 `auto`。 |
| `flex: auto` | `flex: 1 1 auto` | 项目既可以增长（`1`），也可以收缩（`1`），初始大小为 `auto`。空间会平均分配。 |
| `flex: none` | `flex: 0 0 auto` | **刚性尺寸**。项目既不会增长（`0`），也不会收缩（`0`），大小始终由内容或宽高属性决定。 |
| `flex: <正数>` (如 `flex: 1`) | `flex: <正数> 1 0%` | **最常用的布局值**。项目可以增长和收缩，但其初始大小（`flex-basis`）被设置为 `0%`。 |


**重点讲解 **`flex: 1`:  
这等价于 `flex: 1 1 0%`。它强大的地方在于将 `flex-basis` 设置为 `0%`。这意味着：

+ **忽略项目自身的原始大小**（width 或内容宽度）。
+ 容器的**全部剩余空间**都被视为可用于分配的空间。
+ 这些空间将**严格按照 **`flex-grow`** 的比例**进行分配。

如果一个容器中有三个项目，分别设置了 `flex: 1`, `flex: 2`, `flex: 1`，那么可用空间将被分成 `1+2+1=4` 份，三个项目分别获得 1/4、2/4、1/4 的容器空间。这样就实现了**按比例布局**。

### 总结与使用建议
| 你想实现的效果 | 应该使用的 `flex` 值 |
| :--- | :--- |
| 项目保持自身大小，空间不足时收缩 | `flex: initial` (或默认不设置) |
| 项目大小完全由内容决定，绝不收缩 | `flex: none` |
| **等分剩余空间** | `flex: 1` （所有项目都设置） |
| **按比例分配剩余空间** | `flex: 2`, `flex: 1` （设置不同比例） |
| 项目可以伸缩，但以自身大小为基准 | `flex: auto` |


**核心要点**：  
`flex: 1` 之所以强大且常用，是因为它通过将 `flex-basis: 0%` 来**重置了计算的基准**，使得空间分配只依赖于容器的总大小和 `flex-grow` 的比例，从而实现了真正纯粹的比例布局。这是实现诸如“圣杯布局”、“侧边栏固定主内容区自适应”等经典效果的基石。

